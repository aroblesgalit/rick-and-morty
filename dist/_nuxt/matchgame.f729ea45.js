import{i as V,s as G,j as p,k as Y,_ as z,c as s,a,u as d,t as c,F as k,r as I,l as _,o as l,n as A,p as L,d as q}from"./entry.b46bd8ff.js";import{u as J}from"./characters.f666053b.js";const K=V("matchGameStore",()=>{const f=J(),{setCharactersResults:x}=f,{charactersResults:g,charactersInfo:C}=G(f),t=p([]),i=p([]),r=p(4),M=p([]),u=p(0),e=p(""),w=p(!0);let S;async function $(v){try{switch(w.value=!0,clearInterval(S),P(),t.value=[],v){case"easy":e.value="easy",r.value=4;break;case"medium":e.value="medium",r.value=6;break;case"hard":e.value="hard",r.value=8;break;default:e.value="easy",r.value=4}let n=Math.random()*(parseInt(C.value.pages)-1)+1;await x(n.toString());let o=[...g.value],m=[];for(let E=1;E<=r.value;E++){let D=Math.floor(Math.random()*o.length),b=o[D],j={id:b.id+"-a",image:b.image,flipped:!1,matched:!1},H={id:b.id+"-b",image:b.image,flipped:!1,matched:!1};m.push(j,H),o.splice(D,1)}let h=m.length,T;for(;h!=0;)T=Math.floor(Math.random()*h),h--,[m[h],m[T]]=[m[T],m[h]];t.value=m}catch{throw Y({status:404,statusMessage:"Please try again.",fatal:!0})}}function F(v){if(w.value&&(N(),w.value=!1),i.value.length==2)return;let n=t.value.findIndex(o=>o.id==v.id);t.value[n].flipped||(t.value[n].flipped=!0,i.value.push(v),i.value.length===2&&B(i.value[0],i.value[1]))}function B(v,n){let o=t.value.findIndex(h=>h.id==v.id),m=t.value.findIndex(h=>h.id==n.id);t.value[o].image===t.value[m].image?(t.value[o].matched=!0,t.value[m].matched=!0,i.value=[],t.value.filter(h=>h.matched==!0).length==t.value.length&&(clearInterval(S),setTimeout(()=>{alert("You won! Play again."),R(u.value,e.value)},1e3))):setTimeout(()=>{t.value[o].flipped=!1,t.value[m].flipped=!1,i.value=[]},1500)}function N(){let v=new Date,n,o;S=setInterval(()=>{n=new Date,o=n.getTime()-v.getTime(),u.value=Math.round(o/1e3)},1e3)}function P(){u.value=0}function R(v,n,o=new Date){M.value.push({id:o,seconds:v,mode:n})}return{cards:t,timer:u,bestTimes:M,setCards:$,flipCard:F,matchCards:B}});const y=f=>(L("data-v-37ee57cd"),f=f(),q(),f),O={class:"md:max-w-3xl mx-auto"},Q={class:"mb-6 flex justify-between"},U={class:"grid grid-cols-4 gap-3 md:gap-6"},W=["id","onClick"],X={class:"card-inner relative w-full h-full text-center"},Z=y(()=>a("div",{class:"card-front absolute w-full h-full"},[a("img",{src:"https://preview.redd.it/x498howiltl71.gif?format=png8&s=d1c048cf6e8e9863f60e390f628a75fffd592e08",alt:"",class:"w-full"})],-1)),ee={class:"card-back"},te=["src"],ae={key:0,class:"mt-6"},se=y(()=>a("h3",{class:"text-lg font-semibold mb-2"},"You times:",-1)),le={class:"grid grid-cols-3 gap-3"},de={key:0},oe=y(()=>a("h4",null,"Easy",-1)),re={key:0},ne={key:1},ce=y(()=>a("h4",null,"Medium",-1)),ie={key:0},ue={key:2},me=y(()=>a("h4",null,"Hard",-1)),he={key:0},ve={__name:"matchgame",setup(f){const x=K(),{setCards:g,flipCard:C}=x,{cards:t,timer:i,bestTimes:r}=G(x);return g("easy"),(M,u)=>(l(),s("div",O,[a("div",Q,[a("div",null,[a("button",{onClick:u[0]||(u[0]=e=>d(g)("easy")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Easy"),a("button",{onClick:u[1]||(u[1]=e=>d(g)("medium")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Medium"),a("button",{onClick:u[2]||(u[2]=e=>d(g)("hard")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 hover:bg-[#e89ac7] text-sm"},"Hard")]),a("div",null,c(Math.floor(d(i)/60))+"m "+c(d(i)%60<10?"0":"")+c(d(i)%60)+"s",1)]),a("div",U,[(l(!0),s(k,null,I(d(t),e=>(l(),s("div",{id:e.id,key:e.id,class:A([[{flipped:e.flipped}],"card rounded-lg overflow-hidden shadow-md h-full relative bg-transparent cursor-pointer"]),onClick:w=>d(C)(e)},[a("div",X,[Z,a("div",ee,[a("img",{class:"w-full",src:e.image,alt:"character card"},null,8,te)])])],10,W))),128))]),d(t).length>0?(l(),s("div",ae,[se,a("div",le,[d(r).some(e=>e.mode=="easy")?(l(),s("div",de,[oe,(l(!0),s(k,null,I(d(r),e=>(l(),s("div",{key:e.id},[e.mode=="easy"?(l(),s("span",re,c(Math.floor(e.seconds/60))+"m "+c(e.seconds%60<10?"0":"")+c(e.seconds%60)+"s ",1)):_("",!0)]))),128))])):_("",!0),d(r).some(e=>e.mode=="medium")?(l(),s("div",ne,[ce,(l(!0),s(k,null,I(d(r),e=>(l(),s("div",{key:e.id},[e.mode=="medium"?(l(),s("span",ie,c(Math.floor(e.seconds/60))+"m "+c(e.seconds%60<10?"0":"")+c(e.seconds%60)+"s ",1)):_("",!0)]))),128))])):_("",!0),d(r).some(e=>e.mode=="hard")?(l(),s("div",ue,[me,(l(!0),s(k,null,I(d(r),e=>(l(),s("div",{key:e.id},[e.mode=="hard"?(l(),s("span",he,c(Math.floor(e.seconds/60))+"m "+c(e.seconds%60<10?"0":"")+c(e.seconds%60)+"s ",1)):_("",!0)]))),128))])):_("",!0)])])):_("",!0)]))}},_e=z(ve,[["__scopeId","data-v-37ee57cd"]]);export{_e as default};
