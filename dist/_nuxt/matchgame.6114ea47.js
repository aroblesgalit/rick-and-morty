import{i as P,s as M,j as v,k as R,_ as j,c as w,a as s,u as c,t as I,F as N,r as z,o as C,n as A,p as H,d as L}from"./entry.593346b3.js";import{u as V}from"./characters.eba7f876.js";const Y=P("matchGameStore",()=>{const u=V(),{setCharactersResults:p}=u,{charactersResults:f,charactersInfo:_}=M(u),e=v([]),l=v([]),m=v(4),o=v([]),t=v(0),h=v(!0);let x;async function T(d){try{switch(h.value=!0,clearInterval(x),G(),e.value=[],d){case"easy":m.value=4;break;case"medium":m.value=6;break;case"hard":m.value=8;break;default:m.value=4}let i=Math.random()*(parseInt(_.value.pages)-1)+1;await p(i.toString());let a=[...f.value],r=[];for(let k=1;k<=m.value;k++){let S=Math.floor(Math.random()*a.length),g=a[S],D={id:g.id+"-a",image:g.image,flipped:!1,matched:!1},F={id:g.id+"-b",image:g.image,flipped:!1,matched:!1};r.push(D,F),a.splice(S,1)}let n=r.length,b;for(;n!=0;)b=Math.floor(Math.random()*n),n--,[r[n],r[b]]=[r[b],r[n]];e.value=r}catch{throw R({status:404,statusMessage:"Please try again.",fatal:!0})}}function B(d){if(h.value&&(E(),h.value=!1),l.value.length==2)return;let i=e.value.findIndex(a=>a.id==d.id);e.value[i].flipped||(e.value[i].flipped=!0,l.value.push(d),l.value.length===2&&y(l.value[0],l.value[1]))}function y(d,i){let a=e.value.findIndex(n=>n.id==d.id),r=e.value.findIndex(n=>n.id==i.id);e.value[a].image===e.value[r].image?(e.value[a].matched=!0,e.value[r].matched=!0,l.value=[],e.value.filter(n=>n.matched==!0).length==e.value.length&&(clearInterval(x),setTimeout(()=>{alert("You won! Play again."),$(t.value)},1e3))):setTimeout(()=>{e.value[a].flipped=!1,e.value[r].flipped=!1,l.value=[]},1500)}function E(){let d=new Date,i,a;x=setInterval(()=>{i=new Date,a=i.getTime()-d.getTime(),t.value=Math.round(a/1e3)},1e3)}function G(){t.value=0}function $(d){o.value.push(d)}return{cards:e,timer:t,bestTimes:o,setCards:T,flipCard:B,matchCards:y}});const q=u=>(H("data-v-f20bafdf"),u=u(),L(),u),J={class:"md:max-w-3xl mx-auto"},K={class:"mb-6 flex justify-between"},O={class:"grid grid-cols-4 gap-3 md:gap-6"},Q=["id","onClick"],U={class:"card-inner relative w-full h-full text-center"},W=q(()=>s("div",{class:"card-front absolute w-full h-full"},[s("img",{src:"https://preview.redd.it/x498howiltl71.gif?format=png8&s=d1c048cf6e8e9863f60e390f628a75fffd592e08",alt:"",class:"w-full"})],-1)),X={class:"card-back"},Z=["src"],ee={__name:"matchgame",setup(u){const p=Y(),{setCards:f,flipCard:_}=p,{cards:e,timer:l}=M(p);return f("easy"),(m,o)=>(C(),w("div",J,[s("div",K,[s("div",null,[s("button",{onClick:o[0]||(o[0]=t=>c(f)("easy")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Easy"),s("button",{onClick:o[1]||(o[1]=t=>c(f)("medium")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Medium"),s("button",{onClick:o[2]||(o[2]=t=>c(f)("hard")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 hover:bg-[#e89ac7] text-sm"},"Hard")]),s("div",null,I(Math.floor(c(l)/60))+"m "+I(c(l)%60<10?"0":"")+I(c(l)%60)+"s",1)]),s("div",O,[(C(!0),w(N,null,z(c(e),t=>(C(),w("div",{id:t.id,key:t.id,class:A([[{flipped:t.flipped}],"card rounded-lg overflow-hidden shadow-md h-full relative bg-transparent cursor-pointer"]),onClick:h=>c(_)(t)},[s("div",U,[W,s("div",X,[s("img",{class:"w-full",src:t.image,alt:"character card"},null,8,Z)])])],10,Q))),128))])]))}},se=j(ee,[["__scopeId","data-v-f20bafdf"]]);export{se as default};
