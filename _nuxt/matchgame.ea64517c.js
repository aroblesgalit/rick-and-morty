import{i as B,s as k,j as g,k as $,_ as E,c as _,a as l,u,F,r as G,o as x,n as R,p as P,d as T}from"./entry.733859a1.js";import{u as j}from"./characters.ff3406d5.js";const z=B("matchGameStore",()=>{const o=j(),{setCharactersResults:f}=o,{pages:i,charactersResults:p,charactersInfo:h}=k(o),e=g([]),a=g([]),t=g(4);async function b(n){try{switch(e.value=[],n){case"easy":t.value=4;break;case"medium":t.value=6;break;case"hard":t.value=8;break;default:t.value=4}let c=Math.random()*(parseInt(h.value.pages)-1)+1;await f(c.toString());let r=[...p.value],s=[];for(let C=1;C<=t.value;C++){let I=Math.floor(Math.random()*r.length),m=r[I],S={id:m.id+"-a",image:m.image,flipped:!1,matched:!1},M={id:m.id+"-b",image:m.image,flipped:!1,matched:!1};s.push(S,M),r.splice(I,1)}let d=s.length,v;for(;d!=0;)v=Math.floor(Math.random()*d),d--,[s[d],s[v]]=[s[v],s[d]];e.value=s}catch{throw $({status:404,statusMessage:"Please try again.",fatal:!0})}}function y(n){if(a.value.length==2)return;let c=e.value.findIndex(r=>r.id==n.id);e.value[c].flipped||(e.value[c].flipped=!0,a.value.push(n),a.value.length===2&&w(a.value[0],a.value[1]))}function w(n,c){let r=e.value.findIndex(d=>d.id==n.id),s=e.value.findIndex(d=>d.id==c.id);e.value[r].image===e.value[s].image?(e.value[r].matched=!0,e.value[s].matched=!0,a.value=[]):setTimeout(()=>{e.value[r].flipped=!1,e.value[s].flipped=!1,a.value=[]},2e3)}return{cards:e,setCards:b,flipCard:y,matchCards:w}});const A=o=>(P("data-v-65856121"),o=o(),T(),o),H={class:"md:max-w-3xl mx-auto"},L={class:"mb-6"},N={class:"grid grid-cols-4 gap-3 md:gap-6"},V=["id","onClick"],q={class:"card-inner relative w-full h-full text-center"},D=A(()=>l("div",{class:"card-front absolute w-full h-full"},[l("img",{src:"https://preview.redd.it/x498howiltl71.gif?format=png8&s=d1c048cf6e8e9863f60e390f628a75fffd592e08",alt:"",class:"w-full"})],-1)),J={class:"card-back"},K=["src"],O={__name:"matchgame",setup(o){const f=z(),{setCards:i,flipCard:p}=f,{cards:h}=k(f);return i("easy"),(e,a)=>(x(),_("div",H,[l("div",L,[l("button",{onClick:a[0]||(a[0]=t=>u(i)("easy")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Easy"),l("button",{onClick:a[1]||(a[1]=t=>u(i)("medium")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Medium"),l("button",{onClick:a[2]||(a[2]=t=>u(i)("hard")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 hover:bg-[#e89ac7] text-sm"},"Hard")]),l("div",N,[(x(!0),_(F,null,G(u(h),t=>(x(),_("div",{id:t.id,key:t.id,class:R([[{flipped:t.flipped}],"card rounded-lg overflow-hidden shadow-md h-full relative bg-transparent cursor-pointer"]),onClick:b=>u(p)(t)},[l("div",q,[D,l("div",J,[l("img",{class:"w-full",src:t.image,alt:"character card"},null,8,K)])])],10,V))),128))])]))}},W=E(O,[["__scopeId","data-v-65856121"]]);export{W as default};
