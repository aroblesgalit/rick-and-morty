import{j as I,s as S,k as p,l as w,c as g,a as f,F as M,r as T,u as m,n as b,o as _}from"./entry.fabf7b01.js";import{u as y}from"./characters.3cf2e63b.js";const C=I("slotGameStore",()=>{const h=y(),{setCharactersResults:o}=h,{charactersResults:v,charactersInfo:l}=S(h),e=p([]),s=p([]),c=p(!1);async function i(){try{e.value=[],s.value=[];let u=Math.random()*(parseInt(l.value.pages)-1)+1;await o(u.toString());let n=[...v.value];for(let r=1;r<=3;r++){let t=Math.floor(Math.random()*n.length),d=n[t],k={id:d.id,image:d.image};e.value.push(k),n.splice(t,1)}s.value.push(e.value[0],e.value[0],e.value[0])}catch{throw w({status:404,statusMessage:"Please try again.",fatal:!0})}}function a(u,n){let r=0,t,d=setInterval(()=>{t=Math.floor(Math.random()*e.value.length),t==r&&(t<e.value.length-1?t++:t--),s.value[u]=e.value[t],r=t},100);setTimeout(()=>{clearInterval(d)},n)}function x(){c.value=!0,a(0,2e3),a(1,2250),a(2,2500),setTimeout(()=>{c.value=!1},2750)}return{reels:s,isSpinning:c,setTokens:i,handleSpin:x}}),R={class:"md:max-w-3xl mx-auto"},B={class:"grid grid-cols-3 gap-6 mb-4"},G={class:"token rounded-lg overflow-hidden"},E=["src"],j={__name:"slotgame",setup(h){const o=C(),{setTokens:v,handleSpin:l}=o,{reels:e,isSpinning:s}=S(o);return v(),(c,i)=>(_(),g("div",R,[f("div",B,[(_(!0),g(M,null,T(m(e),a=>(_(),g("div",G,[f("img",{src:a.image,alt:"character card"},null,8,E)]))),256))]),f("button",{onClick:i[0]||(i[0]=(...a)=>m(l)&&m(l)(...a)),class:b([{"pointer-events-none":m(s)},"rounded bg-[#00b5cc] text-white px-2 py-1 hover:bg-[#e89ac7] text-sm"])},"Spin",2)]))}};export{j as default};
