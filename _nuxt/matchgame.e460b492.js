import{i as B,s as y,j as g,k as $,_ as E,c as _,a as r,u,F,r as G,o as x,n as P,p as R,d as T}from"./entry.7c01c6c2.js";import{u as j}from"./characters.3ecf6f85.js";const z=B("matchGameStore",()=>{const o=j(),{setCharactersResults:f}=o,{pages:i,charactersResults:p,charactersInfo:h}=y(o),e=g([]),a=g([]),t=g(4);async function b(c){try{switch(e.value=[],c){case"easy":t.value=4;break;case"medium":t.value=6;break;case"hard":t.value=8;break;default:t.value=4}let n=Math.random()*(parseInt(h.value.pages)-1)+1;await f(n.toString());let d=[...p.value],s=[];for(let C=1;C<=t.value;C++){let I=Math.floor(Math.random()*d.length),m=d[I],S={id:m.id+"-a",image:m.image,flipped:!1,matched:!1},M={id:m.id+"-b",image:m.image,flipped:!1,matched:!1};s.push(S,M),d.splice(I,1)}let l=s.length,v;for(;l!=0;)v=Math.floor(Math.random()*l),l--,[s[l],s[v]]=[s[v],s[l]];e.value=s}catch{throw $({status:404,statusMessage:"Please try again.",fatal:!0})}}function k(c){if(a.value.length==2)return;let n=e.value.findIndex(d=>d.id==c.id);e.value[n].flipped||(e.value[n].flipped=!0,a.value.push(c),a.value.length===2&&w(a.value[0],a.value[1]))}function w(c,n){let d=e.value.findIndex(l=>l.id==c.id),s=e.value.findIndex(l=>l.id==n.id);e.value[d].image===e.value[s].image?(e.value[d].matched=!0,e.value[s].matched=!0,a.value=[],e.value.filter(l=>l.matched==!0).length==e.value.length&&setTimeout(()=>{alert("You won! Play again.")},1e3)):setTimeout(()=>{e.value[d].flipped=!1,e.value[s].flipped=!1,a.value=[]},2e3)}return{cards:e,setCards:b,flipCard:k,matchCards:w}});const A=o=>(R("data-v-65856121"),o=o(),T(),o),H={class:"md:max-w-3xl mx-auto"},L={class:"mb-6"},N={class:"grid grid-cols-4 gap-3 md:gap-6"},V=["id","onClick"],Y={class:"card-inner relative w-full h-full text-center"},q=A(()=>r("div",{class:"card-front absolute w-full h-full"},[r("img",{src:"https://preview.redd.it/x498howiltl71.gif?format=png8&s=d1c048cf6e8e9863f60e390f628a75fffd592e08",alt:"",class:"w-full"})],-1)),D={class:"card-back"},J=["src"],K={__name:"matchgame",setup(o){const f=z(),{setCards:i,flipCard:p}=f,{cards:h}=y(f);return i("easy"),(e,a)=>(x(),_("div",H,[r("div",L,[r("button",{onClick:a[0]||(a[0]=t=>u(i)("easy")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Easy"),r("button",{onClick:a[1]||(a[1]=t=>u(i)("medium")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Medium"),r("button",{onClick:a[2]||(a[2]=t=>u(i)("hard")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 hover:bg-[#e89ac7] text-sm"},"Hard")]),r("div",N,[(x(!0),_(F,null,G(u(h),t=>(x(),_("div",{id:t.id,key:t.id,class:P([[{flipped:t.flipped}],"card rounded-lg overflow-hidden shadow-md h-full relative bg-transparent cursor-pointer"]),onClick:b=>u(p)(t)},[r("div",Y,[q,r("div",D,[r("img",{class:"w-full",src:t.image,alt:"character card"},null,8,J)])])],10,V))),128))])]))}},U=E(K,[["__scopeId","data-v-65856121"]]);export{U as default};
