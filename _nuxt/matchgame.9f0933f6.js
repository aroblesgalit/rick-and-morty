import{i as j,s as B,j as v,k as V,_ as Y,c as h,a,u as c,t as p,F as S,r as T,l as z,o as g,n as A,p as H,d as L}from"./entry.17c19ffa.js";import{u as q}from"./characters.a2d6ca03.js";const J=j("matchGameStore",()=>{const u=q(),{setCharactersResults:_}=u,{charactersResults:f,charactersInfo:w}=B(u),e=v([]),l=v([]),m=v(4),I=v([]),r=v(0),t=v(!0);let x;async function G(o){try{switch(t.value=!0,clearInterval(x),F(),e.value=[],o){case"easy":m.value=4;break;case"medium":m.value=6;break;case"hard":m.value=8;break;default:m.value=4}let i=Math.random()*(parseInt(w.value.pages)-1)+1;await _(i.toString());let s=[...f.value],n=[];for(let k=1;k<=m.value;k++){let M=Math.floor(Math.random()*s.length),b=s[M],P={id:b.id+"-a",image:b.image,flipped:!1,matched:!1},R={id:b.id+"-b",image:b.image,flipped:!1,matched:!1};n.push(P,R),s.splice(M,1)}let d=n.length,C;for(;d!=0;)C=Math.floor(Math.random()*d),d--,[n[d],n[C]]=[n[C],n[d]];e.value=n}catch{throw V({status:404,statusMessage:"Please try again.",fatal:!0})}}function $(o){if(t.value&&(D(),t.value=!1),l.value.length==2)return;let i=e.value.findIndex(s=>s.id==o.id);e.value[i].flipped||(e.value[i].flipped=!0,l.value.push(o),l.value.length===2&&y(l.value[0],l.value[1]))}function y(o,i){let s=e.value.findIndex(d=>d.id==o.id),n=e.value.findIndex(d=>d.id==i.id);e.value[s].image===e.value[n].image?(e.value[s].matched=!0,e.value[n].matched=!0,l.value=[],e.value.filter(d=>d.matched==!0).length==e.value.length&&(clearInterval(x),setTimeout(()=>{alert("You won! Play again."),N(r.value)},1e3))):setTimeout(()=>{e.value[s].flipped=!1,e.value[n].flipped=!1,l.value=[]},1500)}function D(){let o=new Date,i,s;x=setInterval(()=>{i=new Date,s=i.getTime()-o.getTime(),r.value=Math.round(s/1e3)},1e3)}function F(){r.value=0}function N(o){I.value.push(o)}return{cards:e,timer:r,bestTimes:I,setCards:G,flipCard:$,matchCards:y}});const E=u=>(H("data-v-9dc8670d"),u=u(),L(),u),K={class:"md:max-w-3xl mx-auto"},O={class:"mb-6 flex justify-between"},Q={class:"grid grid-cols-4 gap-3 md:gap-6"},U=["id","onClick"],W={class:"card-inner relative w-full h-full text-center"},X=E(()=>a("div",{class:"card-front absolute w-full h-full"},[a("img",{src:"https://preview.redd.it/x498howiltl71.gif?format=png8&s=d1c048cf6e8e9863f60e390f628a75fffd592e08",alt:"",class:"w-full"})],-1)),Z={class:"card-back"},ee=["src"],te={key:0,class:"mt-6"},ae=E(()=>a("h3",{class:"text-lg font-semibold mb-6"},"You times:",-1)),se={class:"grid grid-cols-6 gap-3"},le={__name:"matchgame",setup(u){const _=J(),{setCards:f,flipCard:w}=_,{cards:e,timer:l,bestTimes:m}=B(_);return f("easy"),(I,r)=>(g(),h("div",K,[a("div",O,[a("div",null,[a("button",{onClick:r[0]||(r[0]=t=>c(f)("easy")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Easy"),a("button",{onClick:r[1]||(r[1]=t=>c(f)("medium")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 mr-2 hover:bg-[#e89ac7] text-sm"},"Medium"),a("button",{onClick:r[2]||(r[2]=t=>c(f)("hard")),class:"rounded bg-[#00b5cc] text-white px-2 py-1 hover:bg-[#e89ac7] text-sm"},"Hard")]),a("div",null,p(Math.floor(c(l)/60))+"m "+p(c(l)%60<10?"0":"")+p(c(l)%60)+"s",1)]),a("div",Q,[(g(!0),h(S,null,T(c(e),t=>(g(),h("div",{id:t.id,key:t.id,class:A([[{flipped:t.flipped}],"card rounded-lg overflow-hidden shadow-md h-full relative bg-transparent cursor-pointer"]),onClick:x=>c(w)(t)},[a("div",W,[X,a("div",Z,[a("img",{class:"w-full",src:t.image,alt:"character card"},null,8,ee)])])],10,U))),128))]),c(e).length>0?(g(),h("div",te,[ae,a("div",se,[(g(!0),h(S,null,T(c(m),t=>(g(),h("span",null,p(Math.floor(t/60))+"m "+p(t%60<10?"0":"")+p(t%60)+"s ",1))),256))])])):z("",!0)]))}},de=Y(le,[["__scopeId","data-v-9dc8670d"]]);export{de as default};
